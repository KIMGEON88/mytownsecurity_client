[{"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/Login.js":"1","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/apollo/client.js":"2","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/styles/Modal.js":"3","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/loginInput.js":"4","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/servicePage/ServHeader.js":"5","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/myPage/MyPage.js":"6","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/loginButton.js":"7","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/index.js":"8","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/App.js":"9","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/signupPage/SignUp.js":"10","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/servicePage/CrimeRate.js":"11","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/servicePage/AddFavorite.js":"12","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/AddUserFavorite.js":"13"},{"size":2402,"mtime":1607184191054,"results":"14","hashOfConfig":"15"},{"size":628,"mtime":1607179600789,"results":"16","hashOfConfig":"15"},{"size":1938,"mtime":1607183213275,"results":"17","hashOfConfig":"15"},{"size":682,"mtime":1607184400977,"results":"18","hashOfConfig":"15"},{"size":1972,"mtime":1607184568715,"results":"19","hashOfConfig":"15"},{"size":144,"mtime":1606884405034,"results":"20","hashOfConfig":"15"},{"size":495,"mtime":1607184382957,"results":"21","hashOfConfig":"15"},{"size":476,"mtime":1607179600793,"results":"22","hashOfConfig":"15"},{"size":984,"mtime":1607182322735,"results":"23","hashOfConfig":"15"},{"size":2327,"mtime":1607184539237,"results":"24","hashOfConfig":"15"},{"size":1190,"mtime":1607185251060,"results":"25","hashOfConfig":"15"},{"size":918,"mtime":1607185331298,"results":"26","hashOfConfig":"15"},{"size":1989,"mtime":1607185441420,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},"1qppifv",{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/Login.js",["57"],"import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { gql } from 'apollo-boost';\nimport { useMutation } from 'react-apollo-hooks';\n\nimport LoginInput from '../user/loginInput';\nimport LoginButton from '../user/loginButton';\nimport useInput from '../../../hooks/useInput';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  form {\n    display: flex;\n    margin-bottom: 10px;\n    flex-direction: column;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nconst SIGNIN = gql`\n  mutation signin($email: String!, $password: String!) {\n    signin(email: $email, password: $password)\n  }\n`;\n\nconst TOKENLOGIN = gql`\n  mutation logUserIn($token: String!) {\n    logUserIn(token: $token) @client\n  }\n`;\n\nfunction Login() {\n  const idInput = useInput('');\n  const passInput = useInput('');\n  const [loginMutation, { loading }] = useMutation(SIGNIN, {\n    variables: { email: idInput.value, password: passInput.value },\n  });\n  const [tokenLoginMutation] = useMutation(TOKENLOGIN);\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (idInput.value !== '' && passInput.value !== '') {\n      try {\n        const {\n          data: { signin: token },\n        } = await loginMutation();\n        if (token !== '' || token !== undefined) {\n          tokenLoginMutation({ variables: { token } });\n          setTimeout(() => {\n            window.location.reload();\n          }, 2000);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  if (loading) {\n    return '로그인 중입니다. 잠시만 기다려주세요.';\n  }\n  return (\n    <Wrapper>\n      <Container>\n        <form onSubmit={onSubmit}>\n          <LoginInput\n            placeholder={'  Enter your Email'}\n            {...idInput}\n          ></LoginInput>\n          <LoginInput\n            placeholder={'  Enter your Password'}\n            {...passInput}\n            type={'password'}\n          ></LoginInput>\n          <LoginButton text='Log in'></LoginButton>\n        </form>\n        <div>\n          안전궁금해의 회원이 아니신가요?\n          <Link to={`/user/signup`}>지금 가입하세요</Link>!\n        </div>\n      </Container>\n    </Wrapper>\n  );\n}\n\nexport default withRouter(Login);\n","/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/apollo/client.js",["58","59","60"],"import ApolloClient from 'apollo-boost';\n\nconst defaults = {\n  check: Boolean(localStorage.getItem('token')) || false,\n};\n\nconst resolvers = {\n  Mutation: {\n    logUserIn: (_, { token }, { cache }) => {\n      localStorage.setItem('token', token);\n      cache.writeData({\n        data: {\n          isLoggedIn: true,\n        },\n      });\n      return null;\n    },\n    logUserOut: (_, __, { cache }) => {\n      localStorage.removeItem('token');\n      window.location = '/';\n\n      return null;\n    },\n  },\n};\n\nexport default new ApolloClient({\n  uri: 'http://localhost:4000',\n  clientState: {\n    defaults,\n    resolvers,\n  },\n});\n",[],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/styles/Modal.js",[],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/loginInput.js",[],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/servicePage/ServHeader.js",[],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/myPage/MyPage.js",["61","62"],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/loginButton.js",[],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/index.js",[],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/App.js",["63"],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/signupPage/SignUp.js",["64"],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/servicePage/CrimeRate.js",["65","66","67"],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/servicePage/AddFavorite.js",[],"/Users/sohyeon/Desktop/Project/final project/mytownsecurity_client/src/components/modal/user/AddUserFavorite.js",["68"],{"ruleId":"69","severity":1,"message":"70","line":62,"column":9,"nodeType":"71","messageId":"72","endLine":62,"endColumn":20},{"ruleId":"73","severity":1,"message":"74","line":18,"column":18,"nodeType":"75","messageId":"76","endLine":18,"endColumn":19},{"ruleId":"73","severity":1,"message":"77","line":18,"column":21,"nodeType":"75","messageId":"76","endLine":18,"endColumn":23},{"ruleId":"73","severity":1,"message":"78","line":18,"column":27,"nodeType":"75","messageId":"76","endLine":18,"endColumn":32},{"ruleId":"73","severity":1,"message":"79","line":1,"column":10,"nodeType":"75","messageId":"76","endLine":1,"endColumn":15},{"ruleId":"73","severity":1,"message":"80","line":1,"column":17,"nodeType":"75","messageId":"76","endLine":1,"endColumn":25},{"ruleId":"73","severity":1,"message":"81","line":10,"column":19,"nodeType":"75","messageId":"76","endLine":10,"endColumn":27},{"ruleId":"73","severity":1,"message":"82","line":59,"column":20,"nodeType":"75","messageId":"76","endLine":59,"endColumn":25},{"ruleId":"69","severity":1,"message":"70","line":21,"column":3,"nodeType":"71","messageId":"72","endLine":21,"endColumn":14},{"ruleId":"69","severity":1,"message":"70","line":22,"column":3,"nodeType":"71","messageId":"72","endLine":22,"endColumn":14},{"ruleId":"69","severity":1,"message":"70","line":23,"column":3,"nodeType":"71","messageId":"72","endLine":23,"endColumn":14},{"ruleId":"73","severity":1,"message":"82","line":49,"column":25,"nodeType":"75","messageId":"76","endLine":49,"endColumn":30},"no-console","Unexpected console statement.","MemberExpression","unexpected","no-unused-vars","'_' is defined but never used.","Identifier","unusedVar","'__' is defined but never used.","'cache' is defined but never used.","'Route' is defined but never used.","'Redirect' is defined but never used.","'setLogin' is assigned a value but never used.","'error' is assigned a value but never used."]